# Redis Sentinel configuration for high availability

# Port for Sentinel
port 26379

# Sentinel announce IP (use container IP in Docker)
# sentinel announce-ip <ip>
# sentinel announce-port <port>

# Monitor master Redis instance
sentinel monitor mymaster redis-mcp 6379 2

# Authentication (if Redis requires auth)
# sentinel auth-pass mymaster your_password_here

# How long to wait before considering master down (milliseconds)
sentinel down-after-milliseconds mymaster 30000

# How many replicas can be reconfigured simultaneously during failover
sentinel parallel-syncs mymaster 1

# Failover timeout (milliseconds)
sentinel failover-timeout mymaster 180000

# Deny scripts reconfig
sentinel deny-scripts-reconfig yes

# Logging
logfile /var/log/sentinel.log
loglevel notice

# Working directory
dir /tmp