# MCP and Git Integration Environment Configuration
# Copy this file to .env.mcp and customize the values

# ===== General Settings =====
LOG_LEVEL=INFO
DEPLOYMENT_MODE=development

# ===== MCP Server Configuration =====
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8765
MCP_SERVER_MODE=standalone
MCP_SERVER_MAX_CONNECTIONS=100
MCP_SERVER_HEARTBEAT_INTERVAL=30
MCP_SERVER_MESSAGE_TIMEOUT=60

# Message handling
MCP_MESSAGE_MAX_SIZE=1048576
MCP_MESSAGE_COMPRESSION=true
MCP_MESSAGE_BATCH_SIZE=10
MCP_MESSAGE_BATCH_TIMEOUT=0.1

# Connection management
MCP_CONNECTION_RETRY_ATTEMPTS=3
MCP_CONNECTION_RETRY_DELAY=1.0
MCP_CONNECTION_MAX_RETRY_DELAY=60.0
MCP_CONNECTION_EXPONENTIAL_BACKOFF=true

# Context synchronization
MCP_CONTEXT_SYNC_ENABLED=true
MCP_CONTEXT_SYNC_INTERVAL=10
MCP_CONTEXT_MAX_SIZE=10485760
MCP_CONTEXT_COMPRESSION=true

# ===== Redis Configuration =====
REDIS_URL=redis://redis-mcp:6379
REDIS_HOST=redis-mcp
REDIS_PORT=6379
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=10
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_SOCKET_KEEPALIVE=true
REDIS_RETRY_ON_TIMEOUT=true

# Security settings
REDIS_SECURITY_MODE=none
# REDIS_PASSWORD=your_redis_password
# REDIS_USERNAME=your_redis_username
# REDIS_TLS_CERT_FILE=/path/to/cert.pem
# REDIS_TLS_KEY_FILE=/path/to/key.pem
# REDIS_TLS_CA_CERT_FILE=/path/to/ca.pem

# Message queue settings
REDIS_MESSAGE_TTL=3600
REDIS_MESSAGE_MAX_RETRIES=3
REDIS_QUEUE_MAX_SIZE=10000
REDIS_CLEANUP_INTERVAL=300
REDIS_BATCH_SIZE=100

# Performance settings
REDIS_CONNECTION_POOL_SIZE=10
REDIS_PIPELINE_SIZE=100
REDIS_COMPRESSION_ENABLED=true
REDIS_COMPRESSION_THRESHOLD=1024
REDIS_MAX_MEMORY=512mb

# ===== Git Workflow Configuration =====
GIT_REPO_PATH=/workspace
GIT_DEFAULT_BRANCH=main
GIT_WORKFLOW_MODE=automatic
GIT_AUTO_COMMIT=true
GIT_AUTO_PUSH=false

# Branch management
GIT_BRANCH_PREFIX_FEATURE=feature
GIT_BRANCH_PREFIX_TASK=task
GIT_BRANCH_PREFIX_HOTFIX=hotfix
GIT_BRANCH_PREFIX_BUGFIX=bugfix
GIT_BRANCH_CLEANUP_ENABLED=true
GIT_BRANCH_CLEANUP_DAYS=30

# Commit settings
GIT_COMMIT_MESSAGE_TEMPLATE="{type}({scope}): {description}\n\n{body}\n\nTask-ID: {task_id}\nRequirements: {requirements}"
GIT_COMMIT_MAX_SUBJECT_LENGTH=72
GIT_COMMIT_MAX_BODY_LENGTH=500
GIT_COMMIT_SIGN=false
# GIT_COMMIT_GPG_KEY=your_gpg_key_id

# User configuration
GIT_USER_NAME=MCP Bot
GIT_USER_EMAIL=mcp-bot@example.com

# Merge and conflict resolution
GIT_MERGE_STRATEGY=recursive
GIT_CONFLICT_RESOLUTION_TIMEOUT=300
GIT_AUTO_RESOLVE_CONFLICTS=false
GIT_MERGE_COMMIT_MESSAGE_TEMPLATE="Merge {source_branch} into {target_branch}\n\nCompleted tasks: {task_ids}"

# Task integration
GIT_TASK_TRACKING_ENABLED=true
GIT_TASK_BRANCH_MAPPING_FILE=.git/task_branch_mapping.json
GIT_TASK_COMPLETION_AUTO_MERGE=false
GIT_TASK_DEPENDENCY_CHECK=true

# Performance and monitoring
GIT_OPERATION_TIMEOUT=60
GIT_LARGE_FILE_THRESHOLD=104857600
GIT_HISTORY_LIMIT=1000
GIT_STATUS_CHECK_INTERVAL=30

# Remote repository settings
GIT_REMOTE_NAME=origin
# GIT_REMOTE_URL=https://github.com/your-org/your-repo.git
GIT_REMOTE_PUSH_ENABLED=false
GIT_REMOTE_FETCH_INTERVAL=300

# ===== Backup Configuration =====
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true
BACKUP_DIR=/backups

# Cloud backup settings (optional)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_S3_BUCKET=your-backup-bucket
# AWS_REGION=us-east-1

# ===== Monitoring Configuration =====
MONITORING_ENABLED=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=admin

# ===== High Availability Configuration =====
HA_ENABLED=false
REDIS_SENTINEL_PORT=26379

# ===== Docker Configuration =====
COMPOSE_PROJECT_NAME=mcp-integration
COMPOSE_FILE=docker-compose.mcp.yml

# ===== Security Configuration =====
# Enable authentication and security features
MCP_SECURITY_AUTHENTICATION=true
MCP_SECURITY_RATE_LIMIT=100

# ===== Development Settings =====
# Only for development mode
DEBUG=false
RELOAD=false